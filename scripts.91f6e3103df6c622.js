!function w(g,O,p){function f(M,l){if(!O[M]){if(!g[M]){var h="function"==typeof require&&require;if(!l&&h)return h(M,!0);if(E)return E(M,!0);var s=new Error("Cannot find module '"+M+"'");throw s.code="MODULE_NOT_FOUND",s}var v=O[M]={exports:{}};g[M][0].call(v.exports,function(y){return f(g[M][1][y]||y)},v,v.exports,w,g,O,p)}return O[M].exports}for(var E="function"==typeof require&&require,d=0;d<p.length;d++)f(p[d]);return f}({1:[function(w,g,O){function p(f,E,d,M,l,h,s,v,y,k,e,r){function n(c,t,o){function T(){(function I(){if(!l.app_id||!l.app_code)throw new Error("app_id or app_code were missed. Please specify their in HereMapsConfig");a.platform=new H.service.Platform(l),a.layers=a.platform.createDefaultLayers()})(),function P(){!function _(u){var b=a.map=new H.Map(t[0],a.layers.normal.map,{zoom:s.isValidCoords(S)?i.zoom:i.maxZoom,center:new H.geo.Point(S.latitude,S.longitude)});v.addMarkersToMap(b,U,!0),l.mapTileConfig&&function V(u,b){var B=a.platform.getMapTileService({type:"base"}).createTileLayer("maptile",b.scheme||"normal.day",b.size||256,b.format||"png8",b.metadataQueryParams||{});u.setBaseLayer(B)}(b,l.mapTileConfig),C&&C(function x(){return{refresh:function(){var u=this.getViewBounds();this.setMapSizes(),this.setViewBounds(u)},setMapSizes:function(u,b){R.apply(null,arguments)},getPlatform:function(){return a},calculateRoute:function(u,b){return y.calculateRoute(a,{driveType:u,direction:b})},addRouteToMap:function(u,b){y.addRouteToMap(a.map,u,b)},setZoom:function(u,b){s.zoom(a.map,u||10,b)},getZoom:function(){return a.map.getZoom()},getCenter:function(){return a.map.getCenter()},getViewBounds:function(){return a.map.getViewBounds()},setViewBounds:function(u,b){v.setViewBounds(a.map,u,b)},getBoundsRectFromPoints:function(u,b){return s.getBoundsRectFromPoints.apply(null,arguments)},setCenter:function(u){if(!u)return console.error("coords are not specified!");a.map.setCenter(u)},cleanRoutes:function(){y.cleanRoutes(a.map)},getUserLocation:function(u,b){return j.apply(null,arguments).then(function(N){var B=N.coords;return{lat:B.latitude,lng:B.longitude}})},geocodePosition:function(u,b){return h.geocodePosition(a.platform,{coords:u,radius:b&&b.radius,lang:b&&b.lang})},geocodeAddress:function(u){return h.geocodeAddress(a.platform,{searchtext:u&&u.searchtext,country:u&&u.country,city:u&&u.city,street:u&&u.street,housenumber:u&&u.housenumber})},geocodeAutocomplete:function(u,b){return h.geocodeAutocomplete({query:u,beginHighlight:b&&b.beginHighlight,endHighlight:b&&b.endHighlight,maxresults:b&&b.maxresults})},findLocationById:function(u){return h.findLocationById(u)},updateMarkers:function(u,b){v.updateMarkers(a.map,u,b)},getMapFactory:function(){return s.getMapFactory()}}}()),u&&u()}(function(){h.loadModules(o.$attr,{controls:D,events:F})})}()}function j(u,b){return h.getPosition({enableHighAccuracy:!!u,maximumAge:b||0})}function D(){r.start({platform:a,alignment:o.controls})}function F(){e.start({platform:a,listeners:m,options:i,injector:G})}function G(){return function(u){return a[u]}}function R(u,b){A.apply(null,arguments),a.map.getViewPort().resize()}function A(N,B){B=B||t[0].parentNode.offsetWidth||i.width,c.mapHeight=(N=N||t[0].parentNode.offsetHeight||i.height)+"px",c.mapWidth=B+"px",s.runScopeDigestIfNeed(c)}var U=c.places(),$=c.opts(),m=c.events(),i=angular.extend({},k.DEFAULT_MAP_OPTIONS,$),S=s.isValidCoords(i.coords)?i.coords:k.DEFAULT_MAP_OPTIONS.coords,a={id:s.generateId()},C=c.onMapReady(),L=null;f(function(){return A()}).then(function(){h.loadApi().then(T)}),i.resize&&(L=s.throttle(R,k.UPDATE_MAP_RESIZE_TIMEOUT),E.addEventListener("resize",L)),c.$on("$destroy",function(){E.removeEventListener("resize",L)})}return n.$inject=["$scope","$element","$attrs"],{restrict:"EA",template:"<div ng-style=\"{'width': mapWidth, 'height': mapHeight}\"></div>",replace:!0,scope:{opts:"&options",places:"&",onMapReady:"&mapReady",events:"&"},controller:n}}g.exports=p,p.$inject=["$timeout","$window","$rootScope","$filter","HereMapsConfig","HereMapsAPIService","HereMapsUtilsService","HereMapsMarkerService","HereMapsRoutesService","HereMapsCONSTS","HereMapsEventsFactory","HereMapsUiFactory"]},{}],2:[function(w,g,O){w("./providers/markers"),w("./providers/map-modules"),w("./providers/routes"),g.exports=angular.module("heremaps",["heremaps-markers-module","heremaps-routes-module","heremaps-map-modules"]).provider("HereMapsConfig",w("./providers/mapconfig.provider")).service("HereMapsUtilsService",w("./providers/maputils.service")).service("HereMapsAPIService",w("./providers/api.service")).constant("HereMapsCONSTS",w("./providers/consts")).directive("heremaps",w("./heremaps.directive"))},{"./heremaps.directive":1,"./providers/api.service":3,"./providers/consts":4,"./providers/map-modules":7,"./providers/mapconfig.provider":9,"./providers/maputils.service":10,"./providers/markers":13,"./providers/routes":17}],3:[function(w,g,O){function p(f,E,d,M,l){function n(m){var i;switch(m){case l.MODULES.UI:i=c;break;case l.MODULES.EVENTS:i=t;break;default:throw new Error("Unknown module",m)}return i}function c(){if(!I(x.UI.src)){var m=M.createLinkTag({rel:"stylesheet",type:"text/css",href:o(x.UI.href)});m&&$.appendChild(m)}return T(x.UI.src)}function t(){return T(x.EVENTS)}function o(m){return[A,x.BASE,V.V,"/",V.SUB,"/",m].join("")}function T(m){var i,S,a=f.defer();return I(m)?a.resolve():(i=o(m),(S=M.createScriptTag({src:i}))&&$.appendChild(S),U[m].push(a),S.onload=F.bind(null,m),S.onerror=G.bind(null,m)),a.promise}function I(m){var i=null;switch(m){case x.CORE:i=j;break;case x.SERVICE:i=P;break;case x.UI.src:i=_;break;case x.EVENTS:i=D;break;default:i=function(){return!1}}return i()}function j(){return!!window.H}function P(){return!(!window.H||!window.H.service)}function _(){return!(!window.H||!window.H.ui)}function D(){return!(!window.H||!window.H.mapevents)}function F(m){for(var i=U[m],S=0,a=i.length;S<a;++S)i[S].resolve();U[m]=[]}function G(m){for(var i=U[m],S=0,a=i.length;S<a;++S)i[S].reject();U[m]=[]}var R=d.apiVersion,A=d.useHTTPS?"https":"http",V={V:parseInt(R),SUB:R},x={BASE:"://js.api.here.com/v",CORE:"mapsjs-core.js",SERVICE:"mapsjs-service.js",UI:{src:"mapsjs-ui.js",href:"mapsjs-ui.css"},EVENTS:"mapsjs-mapevents.js",AUTOCOMPLETE_URL:"://autocomplete.geocoder.cit.api.here.com/6.2/suggest.json",LOCATION_URL:"://geocoder.cit.api.here.com/6.2/geocode.json"},U={};U[x.CORE]=[],U[x.SERVICE]=[],U[x.UI.src]=[],U[x.PANO]=[],U[x.EVENTS]=[];var $=document.getElementsByTagName("head")[0];return{loadApi:function h(){return T(x.CORE).then(function(){return T(x.SERVICE)})},loadModules:function s(m,i){for(var S in i)i.hasOwnProperty(S)&&m[S]&&n(S)().then(i[S])},getPosition:function v(m){var i=f.defer();return m&&M.isValidCoords(m.coords)?i.resolve({coords:m.coords}):navigator.geolocation.getCurrentPosition(function(S){i.resolve(S)},function(S){i.reject(S)},m),i.promise},geocodePosition:function y(m,i){if(!i.coords)return console.error("Missed required coords");var S=m.getGeocodingService(),a=f.defer(),C={prox:[i.coords.lat,i.coords.lng,i.radius||250].join(","),mode:"retrieveAddresses",maxresults:"1",gen:"8",language:i.lang||"en-gb"};return S.reverseGeocode(C,function(L){a.resolve(L)},function(L){a.reject(L)}),a.promise},geocodeAddress:function k(m,i){if(!i)return console.error("Missed required parameters");var S=m.getGeocodingService(),a=f.defer(),C={gen:8};for(var L in i)C[L]=i[L];return S.geocode(C,function(u){a.resolve(u)},function(u){a.reject(u)}),a.promise},geocodeAutocomplete:function e(m){if(!m)return console.error("Missing required parameters");var i=A+x.AUTOCOMPLETE_URL,S=f.defer(),a={query:"",beginHighlight:"<mark>",endHighlight:"</mark>",maxresults:"5"};for(var C in a)angular.isDefined(m[C])&&(a[C]=m[C]);return a.app_id=d.app_id,a.app_code=d.app_code,E.get(i,{params:a}).success(function(L){S.resolve(L)}).error(function(L){S.reject(L)}),S.promise},findLocationById:function r(m){if(!m)return console.error("Missing Location Identifier");var i=A+x.LOCATION_URL,S=f.defer();return E.get(i,{params:{locationid:m,gen:9,app_id:d.app_id,app_code:d.app_code}}).success(function(C){S.resolve(C)}).error(function(C){S.reject(C)}),S.promise}}}g.exports=p,p.$inject=["$q","$http","HereMapsConfig","HereMapsUtilsService","HereMapsCONSTS"]},{}],4:[function(w,g,O){g.exports={UPDATE_MAP_RESIZE_TIMEOUT:500,ANIMATION_ZOOM_STEP:.05,MODULES:{UI:"controls",EVENTS:"events",PANO:"pano"},DEFAULT_MAP_OPTIONS:{height:480,width:640,zoom:12,maxZoom:2,resize:!1,draggable:!1,coords:{longitude:0,latitude:0}},MARKER_TYPES:{DOM:"DOM",SVG:"SVG"},CONTROLS:{NAMES:{SCALE:"scalebar",SETTINGS:"mapsettings",ZOOM:"zoom",USER:"userposition"},POSITIONS:["top-right","top-center","top-left","left-top","left-middle","left-bottom","right-top","right-middle","right-bottom","bottom-right","bottom-center","bottom-left"]},INFOBUBBLE:{STATE:{OPEN:"open",CLOSED:"closed"},DISPLAY_EVENT:{pointermove:"onHover",tap:"onClick"}},USER_EVENTS:{tap:"click",pointermove:"mousemove",pointerleave:"mouseleave",pointerenter:"mouseenter",drag:"drag",dragstart:"dragstart",dragend:"dragend",mapviewchange:"mapviewchange",mapviewchangestart:"mapviewchangestart",mapviewchangeend:"mapviewchangeend"}}},{}],5:[function(w,g,O){function p(f,E,d,M){function l(e,r,n){this.map=e.map,this.listeners=n,this.inject=new r,this.events=e.events=new H.mapevents.MapEvents(this.map),this.behavior=e.behavior=new H.mapevents.Behavior(this.events),this.bubble=M.create(),this.setupEventListeners()}var k=l.prototype;return k.setupEventListeners=function h(){var e=this;f.addEventListener(this.map,"tap",this.infoBubbleHandler.bind(this)),f.addEventListener(this.map,"pointermove",this.infoBubbleHandler.bind(this)),f.addEventListener(this.map,"dragstart",function(r){E.isMarkerInstance(r.target)&&e.behavior.disable(),e.triggerUserListener(d.USER_EVENTS[r.type],r)}),f.addEventListener(this.map,"drag",function(r){var n=r.currentPointer,c=r.target;E.isMarkerInstance(c)&&c.setPosition(e.map.screenToGeo(n.viewportX,n.viewportY)),e.triggerUserListener(d.USER_EVENTS[r.type],r)}),f.addEventListener(this.map,"dragend",function(r){E.isMarkerInstance(r.target)&&e.behavior.enable(),e.triggerUserListener(d.USER_EVENTS[r.type],r)}),f.addEventListener(this.map,"mapviewchangestart",function(r){e.triggerUserListener(d.USER_EVENTS[r.type],r)}),f.addEventListener(this.map,"mapviewchange",function(r){e.triggerUserListener(d.USER_EVENTS[r.type],r)}),f.addEventListener(this.map,"mapviewchangeend",function(r){e.triggerUserListener(d.USER_EVENTS[r.type],r)})},k.setupOptions=function s(e){e&&(this.map.draggable=!!e.draggable)},k.triggerUserListener=function v(e,r){if(this.listeners){var n=this.listeners[e];n&&n(r)}},k.infoBubbleHandler=function y(e){var r=this.inject("ui");r&&this.bubble.toggle(e,r),this.triggerUserListener(d.USER_EVENTS[e.type],e)},{start:function(e){if(!(e.platform.map instanceof H.Map))return console.error("Missed required map instance");var r=new l(e.platform,e.injector,e.listeners);e.options&&r.setupOptions(e.options)}}}g.exports=p,p.$inject=["HereMapsUtilsService","HereMapsMarkerService","HereMapsCONSTS","HereMapsInfoBubbleFactory"]},{}],6:[function(w,g,O){function p(f,E,d){function M(){}var k=M.prototype;return k.create=function s(e){var r=new H.ui.InfoBubble(e.position,{content:e.markup});return r.display=e.display,r.addClass(d.INFOBUBBLE.STATE.OPEN),E.addEventListener(r,"statechange",function(n){var c=this.getState(),t=this.getElement();c===d.INFOBUBBLE.STATE.CLOSED?t.classList.remove(d.INFOBUBBLE.STATE.OPEN):this.addClass(c)}),r},k.update=function h(e,r){e.display=r.display,e.setPosition(r.position),e.setContent(r.markup),e.setState(d.INFOBUBBLE.STATE.OPEN)},k.toggle=function l(e,r){f.isMarkerInstance(e.target)?this.show(e,r):this.close(e,r)},k.show=function v(e,r,t){var c=e.target;if((t=c.getData())&&t.display&&t.markup&&t.display===d.INFOBUBBLE.DISPLAY_EVENT[e.type]){var o={position:c.getPosition(),markup:t.markup,display:t.display};if(!r.bubble)return r.bubble=this.create(o),void r.addBubble(r.bubble);this.update(r.bubble,o)}},k.close=function y(e,r){r.bubble&&r.bubble.display===d.INFOBUBBLE.DISPLAY_EVENT[e.type]&&r.bubble.setState(d.INFOBUBBLE.STATE.CLOSED)},{create:function(){return new M}}}g.exports=p,p.$inject=["HereMapsMarkerService","HereMapsUtilsService","HereMapsCONSTS"]},{}],7:[function(w,g,O){angular.module("heremaps-events-module",[]).factory("HereMapsEventsFactory",w("./events/events.js")).factory("HereMapsInfoBubbleFactory",w("./events/infobubble.js")),angular.module("heremaps-ui-module",[]).factory("HereMapsUiFactory",w("./ui/ui.js")),g.exports=angular.module("heremaps-map-modules",["heremaps-events-module","heremaps-ui-module"])},{"./events/events.js":5,"./events/infobubble.js":6,"./ui/ui.js":8}],8:[function(w,g,O){function p(f,E,d,M){function l(e,r){this.map=e.map,this.layers=e.layers,this.alignment=r,this.ui=e.ui=H.ui.UI.createDefault(this.map,this.layers),this.setupControls()}l.isValidAlignment=function y(e){return!!(M.CONTROLS.POSITIONS.indexOf(e)+1)};var k=l.prototype;return k.setupControls=function h(){var e=M.CONTROLS.NAMES,r=this.createUserControl();this.ui.getControl(e.SETTINGS).setIncidentsLayer(!1),this.ui.addControl(e.USER,r),this.setControlsAlignment(e)},k.createUserControl=function s(){var e=this,r=new H.ui.Control,n=new H.ui.base.Button({label:'<svg class="H_icon" fill="#fff" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path class="middle_location_stroke" d="M8 12c-2.206 0-4-1.795-4-4 0-2.206 1.794-4 4-4s4 1.794 4 4c0 2.205-1.794 4-4 4M8 1.25a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5"></path><path class="inner_location_stroke" d="M8 5a3 3 0 1 1 .001 6A3 3 0 0 1 8 5m0-1C5.794 4 4 5.794 4 8c0 2.205 1.794 4 4 4s4-1.795 4-4c0-2.206-1.794-4-4-4"></path><path class="outer_location_stroke" d="M8 1.25a6.75 6.75 0 1 1 0 13.5 6.75 6.75 0 0 1 0-13.5M8 0C3.59 0 0 3.59 0 8c0 4.411 3.59 8 8 8s8-3.589 8-8c0-4.41-3.59-8-8-8"></path></svg>',onStateChange:function(c){n.getState()!==H.ui.base.Button.State.DOWN&&f.getPosition().then(function(t){var o={lng:t.coords.longitude,lat:t.coords.latitude};e.map.setCenter(o),d.zoom(e.map,17,.08),e.userMarker?e.userMarker.setPosition(o):e.userMarker=E.addUserMarker(e.map,{pos:o})})}});return r.addChild(n),r},k.setControlsAlignment=function v(e){if(l.isValidAlignment(this.alignment))for(var r in e){var n=this.ui.getControl(e[r]);e.hasOwnProperty(r)&&n&&n.setAlignment(this.alignment)}},{start:function(e){if(!(e.platform.map instanceof H.Map||e.platform.layers))return console.error("Missed ui module dependencies");new l(e.platform,e.alignment)}}}g.exports=p,p.$inject=["HereMapsAPIService","HereMapsMarkerService","HereMapsUtilsService","HereMapsCONSTS"]},{}],9:[function(w,g,O){g.exports=function(){var p={};this.$get=function(){return{app_id:p.app_id,app_code:p.app_code,apiVersion:p.apiVersion||"3.0",useHTTPS:p.useHTTPS,useCIT:!!p.useCIT,mapTileConfig:p.mapTileConfig}},this.setOptions=function(f){p=f}}},{}],10:[function(w,g,O){function p(f,E,d){function c(t,o){if(!t||!o)throw new Error("Missed attributes");for(var T in o)o.hasOwnProperty(T)&&(t[T]=o[T])}return{throttle:function M(t,o){var T=null;return function(){E&&E.cancel(T),T=E(t,o)}},createScriptTag:function s(t){var o=document.getElementById(t.src);return!o&&((o=document.createElement("script")).type="text/javascript",o.id=t.src,c(o,t),o)},createLinkTag:function v(t){var o=document.getElementById(t.href);return!o&&((o=document.createElement("link")).id=t.href,c(o,t),o)},runScopeDigestIfNeed:function h(t,o){return!(!t.$root||"$apply"===t.$root.$$phase||"$digest"===t.$root.$$phase||(t.$digest(o||angular.noop),0))},isValidCoords:function y(t){return t&&("string"==typeof t.latitude||"number"==typeof t.latitude)&&("string"==typeof t.longitude||"number"==typeof t.longitude)},addEventListener:function l(t,o,T,I){t.addEventListener(o,T,!!I)},zoom:function k(t,o,T){var I=t.getZoom(),P=T*(I>=o?-1:1);return function _(){T&&Math.floor(I)!==Math.floor(o)?(t.setZoom(I+=P),requestAnimationFrame(_)):t.setZoom(o)}()},getBoundsRectFromPoints:function r(t,o){return H.geo.Rect.fromPoints(t,o,!0)},generateId:function n(){var o=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(T){var I=(o+16*Math.random())%16|0;return o=Math.floor(o/16),("x"==T?I:3&I|8).toString(16)})},getMapFactory:function e(){return H}}}g.exports=p,p.$inject=["$rootScope","$timeout","HereMapsCONSTS"]},{}],11:[function(w,g,O){function p(f){function E(l){this.place=l,this.setCoords()}var M=E.prototype=new f;return M.constructor=E,M.create=function d(){var l=new H.map.Marker(this.coords);return this.addInfoBubble(l),l},E}g.exports=p,p.$inject=["HereMapsMarkerInterface"]},{}],12:[function(w,g,O){function p(f){function E(s){this.place=s,this.setCoords()}var h=E.prototype=new f;return h.constructor=E,h.create=function d(){var s=new H.map.DomMarker(this.coords,{icon:this.getIcon()});return this.addInfoBubble(s),s},h.getIcon=function M(){var s=this.place.markup;if(!s)throw new Error("markup missed");return new H.map.DomIcon(s)},h.setupEvents=function l(s,v,y){var k=y?"removeEventListener":"addEventListener";for(var e in v)v.hasOwnProperty(e)&&s[k].call(null,e,v[e])},E}g.exports=p,p.$inject=["HereMapsMarkerInterface"]},{}],13:[function(w,g,O){g.exports=angular.module("heremaps-markers-module",[]).factory("HereMapsMarkerInterface",w("./marker.js")).factory("HereMapsDefaultMarker",w("./default.marker.js")).factory("HereMapsDOMMarker",w("./dom.marker.js")).factory("HereMapsSVGMarker",w("./svg.marker.js")).service("HereMapsMarkerService",w("./markers.service.js"))},{"./default.marker.js":11,"./dom.marker.js":12,"./marker.js":14,"./markers.service.js":15,"./svg.marker.js":16}],14:[function(w,g,O){g.exports=function(){function f(){}var l=function p(){throw new Error("Abstract class! The Instance should be created")}.prototype;return l.create=function E(){throw new Error("create:: not implemented")},l.setCoords=function d(){this.coords={lat:this.place.pos.lat,lng:this.place.pos.lng}},l.addInfoBubble=function M(h){this.place.popup&&h.setData(this.place.popup)},f.prototype=l,f}},{}],15:[function(w,g,O){function p(f,E,d,M){function s(n,c,t){if(c&&c.length){if(!(n instanceof H.Map))throw new Error("Unsupported map instance");n.markersGroup||(n.markersGroup=new H.map.Group),c.forEach(function(o,T){var I=function k(n){var c;switch(n.type?n.type.toUpperCase():null){case r.DOM:c=E;break;case r.SVG:c=d;break;default:c=f}return new c(n)}(o),j=o.draggable?function e(n){return n.draggable=!0,n}(I.create()):I.create();n.markersGroup.addObject(j)}),n.addObject(n.markersGroup),t&&v(n,n.markersGroup.getBounds())}}function v(n,c,t){n.setViewBounds(c,!!t)}var r=M.MARKER_TYPES;return{addMarkersToMap:s,addUserMarker:function h(n,c){return n.userMarker||(c.markup='<svg width="35px" height="35px" viewBox="0 0 90 90" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><circle id="path-1" cx="302" cy="802" r="15"></circle><mask id="mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="-30" y="-30" width="90" height="90"><rect x="257" y="757" width="90" height="90" fill="white"></rect><use xlink:href="#path-1" fill="black"></use></mask></defs><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Service-Options---directions---map" transform="translate(-257.000000, -757.000000)"><g id="Oval-15"><use fill="#FFFFFF" fill-rule="evenodd" xlink:href="#path-1"></use><use stroke-opacity="0.29613904" stroke="#3F34A0" mask="url(#mask-2)" stroke-width="60" xlink:href="#path-1"></use><use stroke="#3F34A0" stroke-width="5" xlink:href="#path-1"></use></g></g></g></svg>',n.userMarker=new d(c).create(),n.addObject(n.userMarker)),n.userMarker},updateMarkers:function y(n,c,t){n.markersGroup&&(n.markersGroup.removeAll(),n.removeObject(n.markersGroup),n.markersGroup=null),s.apply(null,arguments)},isMarkerInstance:function l(n){return n instanceof H.map.Marker||n instanceof H.map.DomMarker},setViewBounds:v}}g.exports=p,p.$inject=["HereMapsDefaultMarker","HereMapsDOMMarker","HereMapsSVGMarker","HereMapsCONSTS"]},{}],16:[function(w,g,O){function p(f){function E(h){this.place=h,this.setCoords()}var l=E.prototype=new f;return l.constructor=E,l.create=function d(){var h=new H.map.Marker(this.coords,{icon:this.getIcon()});return this.addInfoBubble(h),h},l.getIcon=function M(){var h=this.place.markup;if(!h)throw new Error("markup missed");return new H.map.Icon(h)},E}g.exports=p,p.$inject=["HereMapsMarkerInterface"]},{}],17:[function(w,g,O){g.exports=angular.module("heremaps-routes-module",[]).service("HereMapsRoutesService",w("./routes.service.js"))},{"./routes.service.js":18}],18:[function(w,g,O){function p(f,E){function M(s){var v=s.routesGroup;v&&(v.removeAll(),s.removeObject(v),s.routesGroup=null)}return{calculateRoute:function d(s,v){var k=s.platform.getRoutingService(),e=v.direction,r=e.waypoints,c={mode:"{{MODE}};{{VECHILE}}".replace(/{{MODE}}/,e.mode||"fastest").replace(/{{VECHILE}}/,v.driveType),representation:e.representation||"display",language:e.language||"en-gb"};r.forEach(function(o,T){c["waypoint"+T]=[o.lat,o.lng].join(",")}),function h(s,v){for(var y in v)v.hasOwnProperty(y)&&(s[y+"attributes"]=v[y])}(c,e.attrs);var t=f.defer();return k.calculateRoute(c,function(o){t.resolve(o)},function(o){t.reject(o)}),t.promise},addRouteToMap:function l(s,v,y){y&&M(s);var k=v.route;if(s&&k&&k.shape){var e=new H.geo.Strip,r=null;k.shape.forEach(function(t){var o=t.split(",");e.pushLatLngAlt(o[0],o[1])});var n=v.style||{};r=new H.map.Polyline(e,{style:{lineWidth:n.lineWidth||4,strokeColor:n.color||"rgba(0, 128, 255, 0.7)"}});var c=s.routesGroup;c||(c=s.routesGroup=new H.map.Group,s.addObject(c)),c.addObject(r),v.zoomToBounds&&E.setViewBounds(s,r.getBounds(),!0)}},cleanRoutes:M}}g.exports=p,p.$inject=["$q","HereMapsMarkerService"]},{}]},{},[2]);